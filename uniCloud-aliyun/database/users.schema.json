{"bsonType":"object","required":[],"permission":{"read":true,"create":true,"update":true,"delete":true},"properties":{"_id":{"description":"存储文档 ID（用户 ID），系统自动生成"},"username":{"bsonType":"string","title":"用户名","description":"用户名，不允许重复","defaultValue":"","trim":"both"},"nickname":{"bsonType":"string","title":"昵称","description":"用户昵称","defaultValue":"","trim":"both"},"gender":{"bsonType":"int","title":"性别","description":"用户性别：0 未知 1 男性 2 女性","defaultValue":0,"enum":[{"text":"未知","value":0},{"text":"男","value":1},{"text":"女","value":2}]},"mobile":{"bsonType":"string","title":"手机号码","description":"手机号码","defaultValue":"","pattern":"^\\+?[0-9-]{3,20}$","trim":"both"},"avatar":{"bsonType":"string","title":"头像地址","description":"头像地址","defaultValue":"","trim":"both"},"unionid":{"bsonType":"string","description":"微信unionid","defaultValue":""},"openid":{"bsonType":"string","description":"微信openid","defaultValue":""},"session_key":{"bsonType":"string","description":"微信小程序session key","defaultValue":""},"register_ip":{"bsonType":"string","description":"注册时 IP 地址","forceDefaultValue":{"$env":"clientIP"}},"register_platform":{"bsonType":"string","description":"注册来源平台","defaultValue":""},"login_count":{"bsonType":"int","description":"登录次数","defaultValue":0},"last_login_date":{"bsonType":"timestamp","description":"最后登录时间","defaultValue":0},"last_login_ip":{"bsonType":"string","description":"最后登录时 IP 地址","forceDefaultValue":{"$env":"clientIP"}},"token":{"bsonType":"string","description":"用户token","defaultValue":""},"inviter_uid":{"bsonType":"string","description":"用户邀请者的uid","defaultValue":"","trim":"both"},"invite_time":{"bsonType":"timestamp","description":"受邀时间","defaultValue":""},"talk_count":{"bsonType":"int","description":"所有用户初始对话次数，每天默认10次（内测版为100次）","defaultValue":10},"vip_count":{"bsonType":"int","description":"vip对话次数，每天默认500次","defaultValue":0},"vip_start_time":{"bsonType":"timestamp","description":"vip开始时间","defaultValue":0},"vip_end_time":{"bsonType":"timestamp","description":"vip结束时间","defaultValue":0},"pay_count":{"bsonType":"int","description":"支付次数","defaultValue":0},"pay_total":{"bsonType":"int","description":"支付总费用，以分为单位","defaultValue":0},"is_beta":{"bsonType":"bool","description":"是否为内测用户","defaultValue":true},"video_ad_count":{"bsonType":"int","description":"看广告次数","defaultValue":0},"video_ad_last_date":{"bsonType":"timestamp","description":"上次看视频广告的时间","defaultValue":0},"sign_count":{"bsonType":"int","description":"签到次数","defaultValue":0},"sign_last_date":{"bsonType":"string","description":"上次签到时间","defaultValue":""},"register_date":{"bsonType":"timestamp","description":"注册时间","forceDefaultValue":{"$env":"now"}}},"version":"1.0.0"}